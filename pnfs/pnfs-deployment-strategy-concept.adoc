---
permalink: pnfs/pnfs-deployment-strategy-concept.html 
sidebar: sidebar 
keywords: tr-4063, pnfs, deployment, strategy, configuration, traditional nfs, benefits, technical report 
summary: Das Verständnis der Herausforderungen des traditionellen NFS und wie pNFS diese angeht, hilft Ihnen bei der Planung einer effektiven pNFS-Implementierung. 
---
= pNFS-Bereitstellungsstrategie in ONTAP
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
pNFS wurde eingeführt, um das traditionelle NFS zu verbessern, indem Metadaten- und Datenpfade getrennt, Datenlokalisierung ermöglicht und parallele Operationen erlaubt werden.



== Herausforderungen der traditionellen NFS und Vorteile der pNFS

Die folgende Tabelle zeigt die Herausforderungen des traditionellen NFS und erklärt, wie pNFS in ONTAP diese angeht.

[cols="40,60"]
|===
| Herausforderung | pNFS-Nutzen 


| *Derselbe Pfad für Metadaten und Daten* Bei herkömmlichem NFS durchlaufen Metadaten und Daten denselben Pfad, was sowohl das Netzwerk als auch die CPU auslasten kann, da ein einzelner Pfad an einen einzelnen Hardwareknoten im Cluster angebunden wird. Dies wird noch verschärft, wenn viele Benutzer versuchen, auf denselben NFS-Export zuzugreifen. | *Metadaten- und Datenpfade sind getrennt, Datenpfade werden parallelisiert* Durch die Trennung der Metadaten- und Datenpfade für den NFS-Verkehr und die Bereitstellung mehrerer Netzwerkpfade für Datenpfade werden die CPU- und Netzwerkressourcen in einem ONTAP Cluster maximiert, wodurch eine verbesserte Skalierbarkeit für Workloads erreicht wird. 


| *Herausforderungen bei der Workload-Verteilung* In einem ONTAP NAS-Cluster können Sie bis zu 24 Knoten haben, von denen jeder über eigene Datenvolumes und Netzwerkschnittstellen verfügen kann. Jedes Volume kann seine eigene Arbeitslast oder eine Teilmenge einer Arbeitslast hosten, und mit einem FlexGroup -Volume kann diese Arbeitslast über mehrere Knoten verteilt sein, die zur Vereinfachung auf einen einzigen Namespace zugreifen. Wenn ein Client einen NFS-Export einbindet, wird der Netzwerkverkehr auf einem einzigen Knoten aufgebaut. Wenn sich die abgerufenen Daten auf einem separaten Knoten im Cluster befinden, entsteht Remote-Datenverkehr, was zu Latenzzeiten bei der Arbeitslast und zu Komplexität bei der Administration führen kann. | *Lokale, parallele Pfade zu Datenstrukturen* Da pNFS die Datenpfade von den Metadaten trennt und mehrere parallele Datenpfade je nach Lokalität des Volumes im Cluster bereitstellt, kann die Latenz durch Verringerung der Distanz des Netzwerkverkehrs im Cluster sowie durch die Nutzung mehrerer Hardware-Ressourcen in einem Cluster reduziert werden. Da pNFS in ONTAP den Datenverkehr automatisch umleitet, müssen Administratoren weniger mehrere Exportpfade und -orte verwalten. 


| *Verschiebung von NFS-Mountpunkten* Sobald ein Mountpunkt eingerichtet ist, würde das Aushängen und erneute Einhängen des Volumes zu Störungen führen. ONTAP bietet die Möglichkeit, Netzwerkschnittstellen zwischen Knoten zu migrieren, dies führt jedoch zu einem erhöhten Verwaltungsaufwand und ist für zustandsbehaftete NFS-Verbindungen mit NFSv4.x störend. Einige Gründe für die Verlegung eines Mount-Punktes hängen mit den Herausforderungen der Datenlokalität zusammen. | *Automatische Pfadumleitung* Mit pNFS verwaltet der NFS-Server eine Tabelle mit den Speicherorten der Netzwerkschnittstellen und Volumes. Wenn eine Datenstruktur von einem Client über den Metadatenpfad in pNFS angefordert wird, liefert der Server einen optimierten Netzwerkpfad an den Client, der diesen Pfad dann für Datenoperationen verwendet. Dies reduziert den Verwaltungsaufwand für Arbeitslasten drastisch und kann in einigen Fällen die Leistung verbessern. 
|===


== Konfigurationsanforderungen

Die Konfiguration von pNFS in NetApp ONTAP erfordert Folgendes:

* Ein NFS-Client, der pNFS unterstützt und mit NFSv4.1 oder höher eingebunden ist.
* NFSv4.1 auf dem NFS-Server in ONTAP aktiviert (`nfs modify -v4.1 enabled`(Standardmäßig deaktiviert)
* pNFS ist auf dem NFS-Server in ONTAP aktiviert. (`nfs modify -v4.1-pnfs enabled`(Standardmäßig deaktiviert)
* Mindestens eine Netzwerkschnittstelle pro Knoten, die zu den NFS-Clients routen kann.
* Datenvolumes in der SVM, die Exportrichtlinien und -regeln haben, die NFSv4 zulassen


image::pNFS_fig_020.png[pNFS-Konfigurationsanforderungen]

Sobald die oben genannten Konfigurationsvoraussetzungen erfüllt sind, funktioniert pNFS von selbst.

.Verwandte Informationen
* link:../nfs-config/index.html["NFS-Konfiguration"]
* link:../nfs-admin/ontap-support-nfsv41-concept.html["ONTAP -Unterstützung für NFSv4.1"]

