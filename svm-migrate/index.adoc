---
permalink: svm-migrate/index.html 
sidebar: sidebar 
keywords: svm, migrate, workflow, relocate, prerequisites, data mobility 
summary: Ab ONTAP 9.10.1 können Cluster-Administratoren eine SVM unterbrechungsfrei von einem Quell-Cluster auf ein Ziel-Cluster verschieben, um Kapazität und Lastausgleich zu managen oder Geräte-Upgrades oder Datacenter-Konsolidierungen zu ermöglichen. Ab ONTAP 9.12.1 wird diese Funktion auf FAS und AFF Plattformen und auf Hybrid-Aggregaten unterstützt. 
---
= Überblick über SVM-Datenmobilität
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Ab ONTAP 9.10.1 können Cluster-Administratoren eine SVM unterbrechungsfrei von einem Quell-Cluster zu einem Ziel-Cluster verschieben, um Kapazität und Lastausgleich zu managen oder Geräte-Upgrades oder Datacenter-Konsolidierungen über die ONTAP CLI durchzuführen.

Diese unterbrechungsfreie Funktion zur Verlagerung von SVMs wird auf AFF Plattformen in ONTAP 9.10.1 und 9.11.1 unterstützt. Ab ONTAP 9.12.1 wird diese Funktion sowohl auf FAS- als auch auf AFF-Plattformen und auf hybriden Aggregaten unterstützt.

Der Name und die UUID der SVM bleiben nach der Migration sowie der Daten-LIF-Name, IP-Adresse und Objektnamen, wie z. B. der Volume-Name, unverändert. Die UUID der Objekte in der SVM unterscheidet sich.



== SVM-Migrations-Workflow

Das Diagramm stellt den typischen Workflow einer SVM-Migration dar. Sie starten eine SVM-Migration vom Ziel-Cluster aus. Sie können die Migration von der Quelle oder vom Ziel aus überwachen. Sie können eine manuelle Umstellung oder eine automatische Umstellung durchführen. Eine automatische Umstellung wird standardmäßig durchgeführt.

image:workflow_svm_migrate.gif["SVM-Migrations-Workflow"]



== Unterstützung der SVM-Migrationsplattform

[cols="1,1"]
|===


| Controller-Familie | Unterstützte ONTAP-Versionen 


| AFF A-Series | ONTAP 9.10.1 und höher 


| AFF C-Serie | ONTAP 9.12.1 Patch 4 und höher 


| FAS | ONTAP 9.12.1 und höher 
|===

NOTE:  Bei der Migration von einem AFF-Cluster zu einem FAS-Cluster mit hybriden Aggregaten versucht die automatische Volume-Platzierung, eine ähnliche Aggregatabgleichung durchzuführen. Wenn das Quell-Cluster beispielsweise 60 Volumes umfasst, versucht die Volume-Platzierung, ein AFF-Aggregat auf dem Ziel zu finden, um die Volumes zu platzieren. Ist in den AFF Aggregaten kein Speicherplatz vorhanden, werden die Volumes in Aggregaten mit nicht-Flash-Festplatten platziert.



== Unterstützung der Skalierbarkeit durch die ONTAP Version

[cols="1,1"]
|===


| ONTAP-Version | HA-Paare in Quelle und Ziel 


| ONTAP 9.14.1 | 12 


| ONTAP 9.13.1 | 6 


| ONTAP 9.11.1 | 3 


| ONTAP 9.10.1 | 1 
|===


== Anforderungen an die Leistung der Netzwerkinfrastruktur für TCP-Round-Trip-Time (RTT) zwischen dem Quell- und dem Zielcluster

Abhängig von der auf dem Cluster installierten ONTAP-Version muss das Netzwerk, das die Quell- und Ziel-Cluster verbindet, wie angegeben eine maximale Umlaufzeit aufweisen:

|===


| ONTAP-Version | Maximale RTT 


| ONTAP 9.12.1 und höher | 10 ms 


| ONTAP 9.11.1 und früher | 2 ms 
|===


== Maximale Anzahl unterstützter Volumes pro SVM

[cols="1,1,1,1,1,1"]
|===


| Quelle | Ziel | ONTAP 9.14.1 | ONTAP 9.13.1 | ONTAP 9.12.1 | ONTAP 9.11.1 und früher 


| AFF | AFF | 400 | 200 | 100 | 100 


| FAS | FAS | 80 | 80 | 80 | K. A. 


| FAS | AFF | 80 | 80 | 80 | K. A. 


| AFF | FAS | 80 | 80 | 80 | K. A. 
|===


== Voraussetzungen

Vor Beginn einer SVM-Migration müssen Sie die folgenden Voraussetzungen erfüllen:

* Sie müssen ein Cluster-Administrator sein.
* link:../peering/create-cluster-relationship-93-later-task.html["Die Quell- und Ziel-Cluster müssen aufeinander peered werden"].
* Die Quell- und Ziel-Cluster müssen über SnapMirror Synchronous verfügen link:../system-admin/install-license-task.html["Lizenz installiert"]. Diese Lizenz ist in enthalten link:../system-admin/manage-licenses-concept.html#licenses-included-with-ontap-one["ONTAP One"].
* Auf allen Knoten im Quellcluster muss ONTAP 9.10.1 oder höher ausgeführt werden. Informationen zur spezifischen Unterstützung von ONTAP-Array-Controllern finden Sie unter link:https://hwu.netapp.com/["Hardware Universe"^].
* Auf allen Nodes im Quellcluster muss die gleiche ONTAP-Version ausgeführt werden.
* Auf allen Nodes im Ziel-Cluster muss die gleiche ONTAP-Version ausgeführt werden.
* Das Ziel-Cluster muss sich auf dem gleichen oder nicht mehr als zwei neuere effektive Cluster-Versionen (ECV) befinden wie das Quell-Cluster.
* Die Quell- und Ziel-Cluster müssen für den Zugriff auf Daten-LIFs dasselbe IP-Subnetz unterstützen.
* Die Quell-SVM muss weniger als die enthalten xref:Maximum supported volumes per SVM[Maximale Anzahl unterstützter Daten-Volumes für die Version].
* Am Ziel muss ausreichend Speicherplatz für die Platzierung des Volumes verfügbar sein
* Der Onboard Key Manager muss auf dem Ziel konfiguriert sein, wenn die Quell-SVM verschlüsselte Volumes enthält




== Best Practices in sich

Bei einer SVM-Migration sollte die CPU-Reserve von 30 % sowohl auf dem Quell-Cluster als auch auf dem Ziel-Cluster belassen werden, damit der CPU-Workload ausgeführt werden kann.



== SVM-Vorgänge

Sie sollten auf Vorgänge prüfen, die mit einer SVM-Migration in Konflikt stehen können:

* Es werden keine Failover-Vorgänge durchgeführt
* WAFLIRON kann nicht ausgeführt werden
* Der Fingerabdruck wird nicht ausgeführt
* Das Verschieben, Rehosting, Klonen, Erstellen, Konvertieren oder Big-Data-Analysen wird nicht ausgeführt




== Unterstützte und nicht unterstützte Funktionen

Die Tabelle zeigt die von der Datenmobilität SVM unterstützten ONTAP Funktionen und die ONTAP Versionen, welche Unterstützung bieten.

Informationen zur Interoperabilität der ONTAP-Versionen zwischen einer Quelle und einem Ziel in einer SVM-Migration finden Sie unter link:../data-protection/compatible-ontap-versions-snapmirror-concept.html#snapmirror-svm-disaster-recovery-relationships["Kompatible ONTAP Versionen für SnapMirror Beziehungen"].

[cols="3,1,4"]
|===


| Merkmal | Release wird zuerst unterstützt | Kommentare 


| Autonomer Schutz Durch Ransomware | ONTAP 9.12.1 |  


| Cloud Volumes ONTAP | Nicht unterstützt |  


| Externer Schlüsselmanager | ONTAP 9.11.1 |  


| FabricPool | ONTAP 9.11.1  a| 
Weitere Informationen zu xref:FabricPool support[FabricPool-Support].



| Fanout-Beziehung (die migrierende Quelle hat ein SnapMirror-Quellvolume mit mehr als einem Ziel) | ONTAP 9.11.1 |  


| FC SAN | Nicht unterstützt |  


| Flash Pool | ONTAP 9.12.1 |  


| FlexCache Volumes | Nicht unterstützt |  


| FlexGroup | Nicht unterstützt |  


| IPsec-Richtlinien | Nicht unterstützt |  


| IPv6-LIFs | Nicht unterstützt |  


| ISCSI SAN | Nicht unterstützt |  


| Job-Plan-Replikation | ONTAP 9.11.1 | In ONTAP 9.10.1 werden Job-Zeitpläne während der Migration nicht repliziert und müssen manuell auf dem Ziel erstellt werden. Ab ONTAP 9.11.1 werden von der Quelle verwendete Jobpläne während der Migration automatisch repliziert. 


| Spiegelung zur Lastverteilung | Nicht unterstützt |  


| MetroCluster SVMs | Nicht unterstützt | Obwohl die SVM-Migration keine MetroCluster SVM-Migration unterstützt, können Sie die asynchrone Replizierung von SnapMirror in verwendenlink:https://www.netapp.com/media/83785-tr-4966.pdf["Migrieren einer SVM in einer MetroCluster-Konfiguration"]. Beachten Sie, dass der beschriebene Prozess zur Migration einer SVM in einer MetroCluster-Konfiguration nicht_ eine unterbrechungsfreie Methode ist. 


| NetApp Aggregatverschlüsselung (NAE) | Nicht unterstützt | Die Migration von einer unverschlüsselten Quelle zu einem verschlüsselten Ziel wird nicht unterstützt. 


| NDMP-Konfigurationen | Nicht unterstützt |  


| NetApp Volume Encryption (NVE) | ONTAP 9.10.1 |  


| Audit-Protokolle für NFS und SMB | ONTAP 9.13.1  a| 
[NOTE]
====
Die Umleitung des Überwachungsprotokolls ist nur im Cloud-Modus verfügbar. Bei einer lokalen SVM-Migration mit aktivierter Prüfung sollten Sie das Audit für die Quell-SVM deaktivieren und die Migration anschließend durchführen.

====
Vor der SVM-Migration:

* link:../nas-audit/enable-disable-auditing-svms-task.html["Die Umleitung des Überwachungsprotokolls muss auf dem Zielcluster aktiviert sein"].
* link:../nas-audit/commands-modify-auditing-config-reference.html?q=audit+log+destination+path["Der Zielpfad des Überwachungsprotokolls von der Quell-SVM muss auf dem Ziel-Cluster erstellt werden"].




| NFS v3, NFS v4.1 und NFS v4.2 | ONTAP 9.10.1 |  


| NFS Version 4.0 | ONTAP 9.12.1 |  


| NFSv4.1 mit pNFS | ONTAP 9.14.1 |  


| NVMe over Fabric | Nicht unterstützt |  


| Onboard Key Manager (OKM) mit aktiviertem Common Criteria-Modus auf Quell-Cluster | Nicht unterstützt |  


| Qtrees | ONTAP 9.14.1 |  


| Kontingente | ONTAP 9.14.1 |  


| S3 | Nicht unterstützt |  


| SMB-Protokoll | ONTAP 9.12.1  a| 
SMB-Migrationen führen zu Unterbrechungen und erfordern nach der Migration eine Aktualisierung durch den Kunden.



| SnapMirror Cloud-Beziehungen | ONTAP 9.12.1 | Ab ONTAP 9.12.1 link:../data-protection/snapmirror-licensing-concept.html#snapmirror-cloud-license["SnapMirror Cloud-Lizenz"]muss das Ziel-Cluster bei der Migration einer SVM mit SnapMirror Cloud-Beziehungen installiert sein und über ausreichend Kapazität verfügen, um das Verschieben der Kapazität in den Volumes, die in die Cloud gespiegelt werden, zu unterstützen. 


| Asynchrones SnapMirror Ziel | ONTAP 9.12.1 |  


| Asynchrone Quelle von SnapMirror | ONTAP 9.11.1  a| 
* Übertragungen können während des Großteil der Migration so normal auf FlexVol SnapMirror Beziehungen fortgesetzt werden.
* Fortlaufende Transfers werden während der Umstellung abgebrochen und neue Transfers scheitern während der Umstellung und können erst nach Abschluss der Migration neu gestartet werden.
* Geplante Transfers, die während der Migration abgebrochen oder verpasst wurden, werden nach Abschluss der Migration nicht automatisch gestartet.
+
[NOTE]
====
Bei der Migration einer SnapMirror Quelle verhindert ONTAP das Löschen des Volume nach der Migration erst, wenn die SnapMirror Aktualisierung stattfindet. Das liegt daran, dass Informationen zu SnapMirror zu migrierten SnapMirror Quell-Volumes erst verfügbar sind, nachdem die Migration abgeschlossen ist und nach dem ersten Update erfolgt.

====




| SMTape-Einstellungen | Nicht unterstützt |  


| SnapLock | Nicht unterstützt |  


| SnapMirror Active Sync | Nicht unterstützt |  


| Peer-Beziehungen für SnapMirror SVM | ONTAP 9.12.1 |  


| Disaster Recovery für SnapMirror SVM | Nicht unterstützt |  


| SnapMirror Synchronous | Nicht unterstützt |  


| Snapshot Kopie | ONTAP 9.10.1 |  


| Manipulationssichere Snapshot Kopie Sperrung | ONTAP 9.14.1 | Eine manipulationssichere Sperrung der Snapshot Kopie entspricht nicht SnapLock. SnapLock wird weiterhin nicht unterstützt. 


| Virtuelle IP LIFs/BGP | Nicht unterstützt |  


| Virtual Storage Console 7.0 und höher | Nicht unterstützt | VSC ist Teil des https://docs.netapp.com/us-en/ontap-tools-vmware-vsphere/index.html["ONTAP Tools für die virtuelle VMware vSphere Appliance"^] Ab VSC 7.0 


| Volume-Klone | Nicht unterstützt |  


| VStorage | Nicht unterstützt |  
|===


=== FabricPool-Support

Die SVM-Migration wird mit Volumes auf FabricPool für die folgenden Plattformen unterstützt:

* Azure NetApp Files Plattform: Alle Tiering-Richtlinien werden unterstützt (nur Snapshot, automatisch, alle und keine).




== Unterstützte Vorgänge während der Migration

Die folgende Tabelle zeigt, welche Volume-Vorgänge innerhalb der migrierenden SVM basierend auf dem Migrationsstatus unterstützt werden:

[cols="2,1,1,1"]
|===


| Volume-Betrieb 3+| SVM-Migrationsstatus 


|  | *In Bearbeitung* | *Angehalten* | *Umstellung* 


| Erstellen | Nicht zulässig | Zulässig | Nicht unterstützt 


| Löschen | Nicht zulässig | Zulässig | Nicht unterstützt 


| Dateisystemanalyse deaktiviert | Zulässig | Zulässig | Nicht unterstützt 


| Dateisystemanalyse aktivieren | Nicht zulässig | Zulässig | Nicht unterstützt 


| Ändern | Zulässig | Zulässig | Nicht unterstützt 


| Offline/Online | Nicht zulässig | Zulässig | Nicht unterstützt 


| Verschieben/Rehosten | Nicht zulässig | Zulässig | Nicht unterstützt 


| Qtree erstellen/ändern | Nicht zulässig | Zulässig | Nicht unterstützt 


| Erstellen/Ändern von Kontingenten | Nicht zulässig | Zulässig | Nicht unterstützt 


| Umbenennen | Nicht zulässig | Zulässig | Nicht unterstützt 


| Größe Ändern | Zulässig | Zulässig | Nicht unterstützt 


| Beschränken | Nicht zulässig | Zulässig | Nicht unterstützt 


| Die Attribute der Snapshot Kopie werden geändert | Zulässig | Zulässig | Nicht unterstützt 


| Snapshot Kopie Autodelete | Zulässig | Zulässig | Nicht unterstützt 


| Erstellen von Snapshot Kopien | Zulässig | Zulässig | Nicht unterstützt 


| Löschen der Snapshot Kopie | Zulässig | Zulässig | Nicht unterstützt 


| Datei aus Snapshot Kopie wiederherstellen | Zulässig | Zulässig | Nicht unterstützt 
|===