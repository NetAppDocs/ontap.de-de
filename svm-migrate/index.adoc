---
permalink: svm-migrate/index.html 
sidebar: sidebar 
keywords: svm, migrate, workflow, relocate, prerequisites, data mobility 
summary: Ab ONTAP 9.10.1 können Cluster-Administratoren eine SVM unterbrechungsfrei von einem Quell-Cluster auf ein Ziel-Cluster verschieben, um Kapazität und Lastausgleich zu managen oder Geräte-Upgrades oder Datacenter-Konsolidierungen zu ermöglichen. Ab ONTAP 9.12.1 wird diese Funktion auf FAS und AFF Plattformen und auf Hybrid-Aggregaten unterstützt. 
---
= Überblick über SVM-Datenmobilität
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Ab ONTAP 9.10.1 können Cluster-Administratoren eine SVM unterbrechungsfrei von einem Quell-Cluster zu einem Ziel-Cluster verschieben, um Kapazität und Lastausgleich zu managen oder Geräte-Upgrades oder Datacenter-Konsolidierungen über die ONTAP CLI durchzuführen.

Diese unterbrechungsfreie Funktion zur Verlagerung von SVMs wird auf AFF Plattformen in ONTAP 9.10.1 und 9.11.1 unterstützt. Ab ONTAP 9.12.1 wird diese Funktion sowohl auf FAS- als auch auf AFF-Plattformen und auf hybriden Aggregaten unterstützt.

Der Name und die UUID der SVM bleiben nach der Migration sowie der Daten-LIF-Name, IP-Adresse und Objektnamen, wie z. B. der Volume-Name, unverändert. Die UUID der Objekte in der SVM unterscheidet sich.



== SVM-Migrations-Workflow

Das Diagramm stellt den typischen Workflow einer SVM-Migration dar. Sie starten eine SVM-Migration vom Ziel-Cluster aus. Sie können die Migration von der Quelle oder vom Ziel aus überwachen. Sie können eine manuelle Umstellung oder eine automatische Umstellung durchführen. Eine automatische Umstellung wird standardmäßig durchgeführt.

image::../media/workflow_svm_migrate.gif[SVM-Migrations-Workflow]



== Unterstützung der SVM-Migrationsplattform

[cols="1,1"]
|===


| Controller-Familie | Unterstützte ONTAP-Versionen 


| AFF-A-Serie | ONTAP 9.10.1 und höher 


| AFF-C-Serie | ONTAP 9.12.1 Patch 4 und höher 


| FAS | ONTAP 9.12.1 und höher 
|===

NOTE: Bei der Migration von einem AFF-Cluster zu einem FAS-Cluster mit hybriden Aggregaten versucht die automatische Volume-Platzierung, eine ähnliche Aggregatabgleichung durchzuführen. Wenn das Quell-Cluster beispielsweise 60 Volumes umfasst, versucht die Volume-Platzierung, ein AFF-Aggregat auf dem Ziel zu finden, um die Volumes zu platzieren. Ist in den AFF Aggregaten kein ausreichender Speicherplatz vorhanden, werden die Volumes in Aggregaten mit nicht-Flash-Festplatten platziert.



== Unterstützung der Skalierbarkeit durch die ONTAP Version

[cols="1,1"]
|===


| ONTAP-Version | HA-Paare in Quelle und Ziel 


| ONTAP 9.10.1 | 1 


| ONTAP 9.11.1 | 3 


| ONTAP 9.13.1 | 6 
|===


== Anforderungen an die Leistung der Netzwerkinfrastruktur für TCP-Round Trip Time (RTT)

|===


| ONTAP-Version | Maximale RTT 


| ONTAP 9.11.1 und früher | 2 ms 


| ONTAP 9.12.1 und höher | 10 ms 
|===


== Maximale Anzahl unterstützter Volumes pro SVM

[cols="2,1,1"]
|===


| ONTAP-Version 2+| Maximale Anzahl unterstützter Volumes pro SVM 


|  | *AFF* | *FAS* 


| ONTAP 9.12.1 und frühere Versionen | 100 | 80 


| ONTAP 9.13.1 und höher | 200 | 80 
|===


== Voraussetzungen

Bevor Sie eine SMV-Migration starten, müssen Sie die folgenden Voraussetzungen erfüllen:

* Sie müssen ein Cluster-Administrator sein.
* link:https://docs.netapp.com/us-en/ontap/peering/create-cluster-relationship-93-later-task.html["Die Quell- und Ziel-Cluster müssen aufeinander peered werden"^].
* Auf den Quell- und Ziel-Clustern muss die Data Protection Bundle-Lizenz installiert sein.
* Auf allen Knoten im Quellcluster muss ONTAP 9.10.1 oder höher ausgeführt werden. Informationen zur spezifischen Unterstützung von ONTAP-Array-Controllern finden Sie unter
* Auf allen Nodes im Quellcluster muss die gleiche ONTAP-Version ausgeführt werden.
* Auf allen Nodes im Ziel-Cluster muss die gleiche ONTAP-Version ausgeführt werden.
* Das Ziel-Cluster muss sich auf dem gleichen oder nicht mehr als zwei neuere effektive Cluster-Versionen (ECV) befinden wie das Quell-Cluster.
* Die Quell- und Ziel-Cluster müssen für den Zugriff auf Daten-LIFs dasselbe IP-Subnetz unterstützen.
* Das Netzwerk, das die Quell- und Ziel-Cluster verbindet, muss eine maximale Round-Trip-Zeit (RTT) von maximal 10 ms aufweisen
* Die Quell-SVM muss weniger als die enthalten xref:Maximum supported volumes per SVM[Maximale Anzahl unterstützter Daten-Volumes für die Version].
* Am Ziel muss ausreichend Speicherplatz für die Platzierung des Volumes verfügbar sein
* Der Onboard Key Manager muss auf dem Ziel konfiguriert sein, wenn die Quell-SVM verschlüsselte Volumes enthält




== SVM-Vorgänge

Sie sollten auf Vorgänge prüfen, die mit einer SVM-Migration in Konflikt stehen können:

* Es werden keine Failover-Vorgänge durchgeführt
* WAFLIRON kann nicht ausgeführt werden
* Der Fingerabdruck wird nicht ausgeführt
* Das Verschieben, Rehosting, Klonen, Erstellen, Konvertieren oder Big-Data-Analysen wird nicht ausgeführt




== Unterstützte und nicht unterstützte Funktionen

Die Tabelle zeigt die von der Datenmobilität SVM unterstützten ONTAP Funktionen und die ONTAP Versionen, welche Unterstützung bieten.

[cols="3,1,4"]
|===


| Merkmal | Release wird zuerst unterstützt | Kommentare 


| SnapMirror Beziehungen zu asynchronen Kopien in die Cloud | ONTAP 9.12.1 | Wenn Sie ab ONTAP 9.12.1 eine SVM mit SnapMirror Copy-to-Cloud-Beziehungen migrieren, muss der Ziel-Cluster für die Migration die Lizenz für die Kopie in die Cloud installiert haben und über genügend Kapazität verfügen, um die Kapazität der Volumes zu verschieben, die in der Cloud gespiegelt werden. 


| Asynchrones SnapMirror Ziel | ONTAP 9.12.1 |  


| Asynchrone SnapMirror Quelle | ONTAP 9.12.1  a| 
* Übertragungen können während des Großteil der Migration so normal auf FlexVol SnapMirror Beziehungen fortgesetzt werden.
* Fortlaufende Transfers werden während der Umstellung abgebrochen und neue Transfers scheitern während der Umstellung und können erst nach Abschluss der Migration neu gestartet werden.
* Geplante Übertragungen, die während der Migration abgebrochen oder verpasst wurden, werden nach Abschluss der Migration nicht automatisch gestartet.
+
[NOTE]
====
Wenn eine SnapMirror Quelle migriert wird, verhindert ONTAP nach der Migration erst das Löschen des Volume, wenn das SnapMirror Update nach der Migration stattfindet. Dies geschieht, da die in SnapMirror bezogenen Informationen für migrierte SnapMirror Quell-Volumes erst nach Abschluss der Migration bekannt sind.

====




| Autonomer Schutz Durch Ransomware | ONTAP 9.12.1 |  


| Cloud Volumes ONTAP | Nicht unterstützt |  


| Externer Schlüsselmanager | ONTAP 9.11.1 |  


| FabricPool | ONTAP 9.11.1  a| 
Weitere Informationen zu xref:FabricPool support[FabricPool-Support].



| Fanout-Beziehungen (die migrierende Quelle hat ein SnapMirror Quell-Volume mit mehr als einem Ziel) | ONTAP 9.11.1 |  


| FC SAN | Nicht unterstützt |  


| Flash Pool | ONTAP 9.12.1 |  


| FlexCache Volumes | Nicht unterstützt |  


| FlexGroup | Nicht unterstützt |  


| IPsec-Richtlinien | Nicht unterstützt |  


| IPv6-LIFs | Nicht unterstützt |  


| ISCI SAN | Nicht unterstützt |  


| Job-Plan-Replikation | ONTAP 9.11.1 | In ONTAP 9.10.1 werden Job-Zeitpläne während der Migration nicht repliziert und müssen manuell auf dem Ziel erstellt werden. Ab ONTAP 9.11.1 werden von der Quelle verwendete Jobpläne während der Migration automatisch repliziert. 


| Spiegelung zur Lastverteilung | Nicht unterstützt |  


| MetroCluster SVMs | Nicht unterstützt |  


| NDMP-Konfigurationen | Nicht unterstützt |  


| NetApp Volume Encryption | ONTAP 9.10.1 |  


| Audit-Protokolle für NFS und SMB | ONTAP 9.13.1  a| 
Vor der SVM-Migration:

* Die Umleitung des Überwachungsprotokolls muss auf dem Zielcluster aktiviert sein.
* Der Zielpfad des Überwachungsprotokolls von der Quell-SVM muss auf dem Ziel-Cluster erstellt werden.




| NFS v3, NFS v4.1 und NFS v4.2 | ONTAP 9.10.1 |  


| NFS Version 4.0 | ONTAP 9.12.1 |  


| NVMe over Fabric | Nicht unterstützt |  


| Onboard Key Manager (OKM) mit aktiviertem Common Criteria-Modus auf Quell-Cluster | Nicht unterstützt |  


| Qtrees | ONTAP 9.10.1 |  


| S3 | Nicht unterstützt |  


| SMB-Protokoll | ONTAP 9.12.1  a| 
SMB-Migrationen führen zu Unterbrechungen und erfordern nach der Migration eine Aktualisierung durch den Kunden.



| SMTape-Einstellungen | Nicht unterstützt |  


| SnapLock | Nicht unterstützt |  


| SnapMirror Business Continuity | Nicht unterstützt |  


| Peer-Beziehungen für SnapMirror SVM | ONTAP 9.12.1 |  


| Disaster Recovery für SnapMirror SVM | Nicht unterstützt |  


| SnapMirror Synchronous | Nicht unterstützt |  


| Snapshot Kopie | ONTAP 9.10.1 |  


| Virtuelle IP LIFs/BGP | Nicht unterstützt |  


| Virtual Storage Console 7.0 und höher | Nicht unterstützt | VSC ist Teil des https://docs.netapp.com/us-en/ontap-tools-vmware-vsphere/index.html["ONTAP Tools für die virtuelle VMware vSphere Appliance"^] Ab VSC 7.0 


| Volume-Klone | Nicht unterstützt |  


| VStorage | Nicht unterstützt |  
|===


=== FabricPool-Support

Die SVM-Migration wird mit Volumes auf FabricPool für die folgenden Plattformen unterstützt:

* Azure NetApp Files Plattform: Alle Tiering-Richtlinien werden unterstützt (nur Snapshot, automatisch, alle und keine).
* On-Premises-Plattform. Nur die „keine“ Volume Tiering Richtlinie wird unterstützt.




== Unterstützte Vorgänge während der Migration

In der folgenden Tabelle wird die Unterstützung von Volume-Operationen basierend auf dem Migrationsstatus angegeben:

[cols="2,1,1,1"]
|===


| Volume-Betrieb 3+| SVM-Migrationsstatus 


|  | *In Bearbeitung* | *Angehalten* | *Umstellung* 


| Erstellen | Zulässig | Zulässig | Nicht unterstützt 


| Löschen | Nicht zulässig | Zulässig | Nicht unterstützt 


| Dateisystemanalyse 2+| Siehe Dateisystemanalyse | Nicht unterstützt 


| Ändern | Zulässig | Zulässig | Nicht unterstützt 


| Offline/Online | Nicht zulässig | Zulässig | Nicht unterstützt 


| Verschieben/Rehosten | Nicht zulässig | Zulässig | Nicht unterstützt 


| Qtreecreate/modify | Nicht zulässig | Nicht zulässig | Nicht unterstützt 


| Erstellen/Ändern von Kontingenten | Nicht zulässig | Nicht zulässig | Nicht unterstützt 


| Umbenennen | Nicht zulässig | Zulässig | Nicht unterstützt 


| Größe Ändern | Zulässig | Zulässig | Nicht unterstützt 


| Beschränken | Nicht zulässig | Zulässig | Nicht unterstützt 


| Die Attribute der Snapshot Kopie werden geändert | Zulässig | Zulässig | Nicht unterstützt 


| Snapshot Kopie Autodelete | Zulässig | Zulässig | Nicht unterstützt 


| Erstellen von Snapshot Kopien | Zulässig | Zulässig | Nicht unterstützt 


| Löschen der Snapshot Kopie | Zulässig | Zulässig | Nicht unterstützt 


| Datei aus Snapshot Kopie wiederherstellen | Zulässig | Zulässig | Nicht unterstützt 
|===
Die folgende Tabelle zeigt die Unterstützung von Dateivorgängen basierend auf dem Migrationsstatus:

[cols="2,1,1,1"]
|===


| Dateivorgang 3+| SVM-Migrationsstatus 


|  | *In Bearbeitung* | *Angehalten* | *Umstellung* 


| Asynchrones Löschen | Nicht zulässig | Nicht zulässig | Nicht unterstützt 


| Klonerstellung/-Löschung/-Teilung | Zulässig | Zulässig | Nicht unterstützt 


| Kopieren ändern/zerstören | Nicht zulässig | Nicht zulässig | Nicht unterstützt 


| Bewegen | Nicht zulässig | Nicht zulässig | Nicht unterstützt 


| Reservieren | Zulässig | Zulässig | Nicht unterstützt 
|===