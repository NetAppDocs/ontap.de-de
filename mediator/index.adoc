---
permalink: mediator/index.html 
sidebar: sidebar 
keywords: ontap mediator, install requirements, mediator requirements 
summary: Um ONTAP Mediator zu installieren, müssen Sie sicherstellen, dass alle Voraussetzungen erfüllt sind, das Installationspaket abrufen und das Installationsprogramm auf dem Host ausführen. 
---
= Installieren oder aktualisieren Sie ONTAP Mediator
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Um ONTAP Mediator zu installieren oder zu aktualisieren, müssen Sie alle Voraussetzungen erfüllen, das Installationspaket herunterladen und das Installationsprogramm auf dem Host ausführen.

* Ab ONTAP 9.8 können Sie jede Version von ONTAP Mediator verwenden, um eine aktive SnapMirror Sync Beziehung zu überwachen.
* Sie können jede Version von ONTAP Mediator verwenden, um eine MetroCluster -IP-Konfiguration zu überwachen.




== Überlegungen zur Installation und zum Upgrade

Bitte beachten Sie diese Punkte, bevor Sie ONTAP Mediator aktualisieren oder installieren.


NOTE: ONTAP Mediator 1.8 und ältere Versionen sind nicht mit dem FIPS-Modus von Red Hat Enterprise Linux (RHEL) kompatibel und verhindern daher eine erfolgreiche Installation.  Sie können mit folgendem Befehl überprüfen, ob der FIPS-Modus aktiviert ist: `fips-mode-setup --check` Befehl.  Sie können den FIPS-Modus deaktivieren, indem Sie `fips-modesetup --disable` Befehl. Führen Sie nach dem Deaktivieren des FIPS-Modus einen Neustart durch, um ONTAP Mediator 1.8 oder früher erfolgreich zu installieren.

* Sie sollten ONTAP Mediator auf die neueste Version aktualisieren.  Ältere Versionen funktionieren weiterhin mit allen ONTAP Releases, neuere Versionen enthalten jedoch Sicherheitspatches für Drittanbieterkomponenten.
* Wenn Sie ein Upgrade auf eine neue ONTAP Mediator-Version durchführen, wird das Installationsprogramm automatisch auf die empfohlene SCST-Version aktualisiert, sofern keine höhere Version verfügbar ist. Anweisungen zur manuellen Installation einer höheren SCST-Version finden Sie unter link:manage-task.html["ONTAP Mediator verwalten"]. Informationen zu unterstützten Versionen finden Sie im link:whats-new-concept.html#scst-support-matrix["SCST Support-Matrix"].


[NOTE]
====
* Falls die Installation fehlschlägt, müssen Sie möglicherweise auf eine neuere Version von ONTAP Mediator aktualisieren.
* Ab dem 15. Juni 2025 können Sie ONTAP Mediator 1.9 und 1.8 nicht mehr installieren oder aktualisieren, da deren Code Signing-Zertifikate abgelaufen sind.  Wenn die Installation oder das Upgrade fehlschlägt, verwenden Sie stattdessen die Patch-Version von ONTAP Mediator 1.9.1.


====
* Wenn Sie das `yum-utils` Paket installieren, können Sie den `needs-restarting` Befehl verwenden.
* Ab ONTAP Mediator 1.11 wird IPv6 für MCCIP unterstützt.




=== Host-Anforderungen erfüllt

Befolgen Sie diese Anforderungen, wenn Sie RHEL oder Rocky Linux installieren und die zugehörigen Repositories konfigurieren.

[NOTE]
====
Wenn Sie den Installations- oder Konfigurationsprozess ändern, müssen Sie möglicherweise weitere Schritte ausführen.

====
.Anforderungen für die Linux-Distribution
* Installieren Sie RHEL oder Rocky Linux gemäß den Best Practices von Red Hat.  Da CentOS 8.x das Ende seines Lebenszyklus erreicht hat, werden kompatible Versionen von CentOS 8.x nicht empfohlen.
* Stellen Sie bei der Installation von ONTAP Mediator sicher, dass das System Zugriff auf das erforderliche Repository hat, damit das Installationsprogramm alle erforderlichen Softwareabhängigkeiten abrufen und installieren kann.
* Um dem yum-Installer zu ermöglichen, abhängige Software in den RHEL-Repositorys zu finden, registrieren Sie das System während der Installation oder danach mit einer gültigen Red hat Subskription.
+
[NOTE]
====
Weitere Informationen finden Sie in der Dokumentation zu Red hat Subscription Manager.

====


.Netzwerkanforderungen
Stellen Sie sicher, dass die folgenden Ports für ONTAP Mediator verfügbar und nicht verwendet werden:

|===


| Port/Services | Quelle | Richtung | Ziel | Zweck 


 a| 
22/tcp
 a| 
Management-Host
 a| 
Eingehend
 a| 
ONTAP Mediator
 a| 
(Optional) SSH / ONTAP Mediatormanagement



 a| 
31784/tcp
 a| 
Cluster-Management-LIFs
 a| 
Eingehend
 a| 
Web-Server ONTAP Mediator
 a| 
(ERFORDERLICH) REST-API (HTTPS)



 a| 
3260/tcp ^1^
 a| 
Node-Daten-LIFs oder Node-Management-LIFs
 a| 
Bidirektional
 a| 
ONTAP Mediator iSCSI-Ziele
 a| 
(Für MCCIP erforderlich) iSCSI-Datenverbindung für Postfächer

|===
Für SMBC-Kunden muss für ONTAP Port 3260 nicht aktiviert oder verbunden sein.

* Wenn Sie eine Firewall eines Drittanbieters verwenden, siehelink:https://docs.netapp.com/us-en/ontap-metrocluster/install-ip/concept_mediator_requirements.html#firewall-requirements-for-ontap-mediator["Firewall-Anforderungen für ONTAP Mediator"^] Die
* Stellen Sie bei Linux-Hosts ohne Internetzugang sicher, dass die erforderlichen Pakete in einem lokalen Repository verfügbar sind.
+
Wenn Sie Link Aggregation Control Protocol (LACP) in einer Linux-Umgebung verwenden, konfigurieren Sie den Kernel und setzen Sie den `sysctl net.ipv4.conf.all.arp_ignore` auf `2`.



.Anforderungen an das Betriebssystem
Ihr Betriebssystem muss die folgenden Anforderungen erfüllen:

* 64-Bit physische Installation oder virtuelle Maschine
* 8 GB RAM
* 1 GB Festplattenspeicher (wird für die Installation von Anwendungen, Serverprotokollen und die Datenbank verwendet)
* Benutzer: Root-Zugriff


Die folgende Tabelle zeigt die unterstützten Betriebssysteme für jede Version von ONTAP Mediator.

[cols="30,70"]
|===


| Version des ONTAP Mediators | Unterstützte Linux-Versionen 


 a| 
1,11
 a| 
* Red Hat Enterprise Linux
+
** Kompatibel: 9.5 ^1^
** Empfohlen: 10.1, 10.0, 9.7, 9.6, 9.4 und 8.10


* Rocky Linux 10,1, 9.7 und 8.10
* Oracle Linux 10.0 und 9.6




 a| 
1,10
 a| 
* Red Hat Enterprise Linux
+
** Kompatibel: 9.5 ^1^
** Empfohlen: 10,0, 9,6, 9,4 und 8,10


* Rocky Linux 10,0, 9.6 und 8.10




 a| 
1.9.1
 a| 
* Red Hat Enterprise Linux
+
** Kompatibel: 9.3, 9.1, 8.9, 8.7, 8.6, 8.5 und 8.4 ^1^
** Empfohlen: 9.5, 9.4, 9.2, 9.0, 8.10 und 8.8


* Rocky Linux 9.5 und 8.10




 a| 
1,9
 a| 
* Red Hat Enterprise Linux
+
** Kompatibel: 9.3, 9.1, 8.9, 8.7, 8.6, 8.5 und 8.4 ^1^
** Empfohlen: 9.5, 9.4, 9.2, 9.0, 8.10 und 8.8


* Rocky Linux 9.5 und 8.10




 a| 
1,8
 a| 
* Red Hat Enterprise Linux:
+
** Kompatibel: 8.7, 8.6, 8.5 und 8.4 ^1^
** Empfohlen: 9.4, 9.3, 9.2, 9.1, 9.0, 8.10, 8.9 und 8.8


* Rocky Linux 9.4 und 8.10




 a| 
1,7
 a| 
* Red Hat Enterprise Linux:
+
** Kompatibel: 8.7, 8.6, 8.5 und 8.4 ^1^
** Empfohlen: 9.3, 9.2, 9.1, 9.0, 8.9 und 8.8


* Rocky Linux 9.3 und 8.9




 a| 
1,6
 a| 
* Red Hat Enterprise Linux:
+
** Kompatibel: 8.7, 8.6, 8.5 und 8.4 ^1^
** Empfohlen: 9.2, 9.1, 9.0 und 8.8


* Rocky Linux 9.2 und 8.8




 a| 
1,5
 a| 
* Red Hat Enterprise Linux: 8.5, 8.4, 8.3, 8.2, 8.1, 8.0, 7.9, 7.8, 7.7 und 7.6
* CentOS: 7.9, 7.8, 7.7 und 7.6




 a| 
1,4
 a| 
* Red Hat Enterprise Linux: 8.5, 8.4, 8.3, 8.2, 8.1, 8.0, 7.9, 7.8, 7.7 und 7.6
* CentOS: 7.9, 7.8, 7.7 und 7.6




 a| 
1,3
 a| 
* Red Hat Enterprise Linux: 8.3, 8.2, 8.1, 8.0, 7.9, 7.8, 7.7 und 7.6
* CentOS: 7.9, 7.8, 7.7 und 7.6




 a| 
1,2
 a| 
* Red Hat Enterprise Linux: 8.1, 8.0, 7.9, 7.8, 7.7 und 7.6
* CentOS: 7.9, 7.8, 7.7 und 7.6


|===
. Kompatibel bedeutet, dass Red Hat diese RHEL-Versionen nicht mehr unterstützt, ONTAP Mediator jedoch weiterhin darauf installiert werden kann.


.BS-erforderliche Pakete
Die folgenden Pakete werden von ONTAP Mediator benötigt:


NOTE: Die Pakete werden entweder vorinstalliert oder automatisch vom ONTAP Mediator Installer installiert.

[cols="25,25,25,25"]
|===


| Alle RHEL/CentOS Versionen | Zusätzliche Pakete für RHEL 10.x / Rocky Linux 10 | Zusätzliche Pakete für RHEL 9.x / Rocky Linux 9 | Zusätzliche Pakete für RHEL 8.x / Rocky Linux 8 


 a| 
* openssl
* openssl-devel
* Kernel-devel-€ (uname -r)
* gcc
* Make
* Libselinux-utils
* Patch
* bzip2
* perl-Data-Dumper
* perl-ExtUtils-MakeuMaker
* Efibootmgr
* Mokutil

 a| 
* python3.12
* python3.12-devel

 a| 
* Elfutils-libelf-devel
* Politicoreutils-Python-utils
* python3
* python3-devel

 a| 
* Elfutils-libelf-devel
* Politicoreutils-Python-utils
* Redhat-lsb-Core
* Python39
* Python39-devel


|===
Das Mediator-Installationspaket ist eine selbst extrahierende komprimierte tar-Datei, die Folgendes enthält:

* Eine RPM-Datei, die alle Abhängigkeiten enthält, die nicht aus dem Repository des unterstützten Release abgerufen werden können.
* Ein Installationsskript.


Ein gültiges SSL-Zertifikat wird empfohlen.



=== Überlegungen zum Betriebssystem-Upgrade und zur Kernel-Kompatibilität

* Sie können alle Bibliothekspakete außer dem Kernel aktualisieren, aber möglicherweise müssen Sie das System neu starten, um die Änderungen im ONTAP Mediator anzuwenden.  Planen Sie Ausfallzeiten ein, falls ein Neustart erforderlich ist.
* Sie sollten den Betriebssystemkernel auf dem neuesten Stand halten.  Aktualisieren Sie den Kernel auf eine unterstützte Version, die in der Liste aufgeführt ist.link:whats-new-concept.html#scst-support-matrix["ONTAP Mediator-Versionsmatrix"] Die  Das System muss neu gestartet werden, planen Sie daher ein Wartungsfenster für den Ausfall ein.
+
** Deinstallieren Sie das SCST-Kernelmodul vor dem Neustart und installieren Sie es anschließend wieder.
** Halten Sie eine unterstützte Version von SCST bereit, die Sie vor dem Kernel-OS-Upgrade neu installieren können.




[NOTE]
====
* Die Kernel-Version muss mit der Betriebssystemversion übereinstimmen.
* Aktualisieren Sie den Kernel nicht über die für Ihre ONTAP Mediator-Version unterstützte Betriebssystemversion hinaus, da das getestete SCST-Modul wahrscheinlich nicht funktionieren wird.


====


== Installieren Sie ONTAP Mediator, wenn UEFI Secure Boot aktiviert ist

ONTAP Mediator kann auf einem System mit oder ohne aktiviertem UEFI Secure Boot installiert werden.

.Über diese Aufgabe
Sie können den UEFI-sicheren Start vor der Installation von ONTAP Mediator deaktivieren, wenn dieser nicht benötigt wird oder wenn Sie Probleme bei der Installation von ONTAP Mediator beheben. Deaktivieren Sie die UEFI Secure Boot-Option in den Computereinstellungen.

[NOTE]
====
Detaillierte Anweisungen zum Deaktivieren des UEFI Secure Boot finden Sie in der Dokumentation zu Ihrem Host-Betriebssystem.

====
Um ONTAP Mediator mit aktiviertem UEFI Secure Boot zu installieren, müssen Sie einen Sicherheitsschlüssel registrieren, bevor der Dienst gestartet werden kann. Der Schlüssel wird während des Kompilierungsschritts der SCST-Installation generiert und als privates öffentliches Schlüsselpaar auf Ihrer Maschine gespeichert. Verwenden Sie das `mokutil` Dienstprogramm, um den öffentlichen Schlüssel als Machine Owner Key (MOK) zu Ihrer UEFI-Firmware hinzuzufügen, sodass das System dem signierten Modul vertrauen und laden kann. Speichern Sie die `mokutil` Passphrase an einem sicheren Ort, da dies erforderlich ist, wenn Sie Ihr System neu starten, um das MOK zu aktivieren.

.Schritte
. [[Step_1_uefi]]Überprüfen Sie, ob UEFI Secure Boot auf Ihrem System aktiviert ist:
+
`mokutil --sb-state`

+
Die Ergebnisse zeigen an, ob UEFI Secure Boot auf diesem System aktiviert ist.

+
[cols="40,60"]
|===


| Wenn... | Gehe zu... 


 a| 
UEFI Secure Boot ist aktiviert
 a| 




 a| 
UEFI Secure Boot ist deaktiviert
 a| 
link:upgrade-host-os-mediator-task.html["Aktualisieren Sie das Host-Betriebssystem und dann ONTAP Mediator"]

|===
+
[NOTE]
====
** Sie werden aufgefordert, eine Passphrase zu erstellen, die Sie an einem sicheren Ort speichern müssen. Sie benötigen diese Passphrase, um den Schlüssel im UEFI Boot Manager zu aktivieren.
** ONTAP Mediator 1.2.0 und frühere Versionen unterstützen diesen Modus nicht.


====
. [[Step_2_uefi]]Wenn das `mokutil` Dienstprogramm nicht installiert ist, führen Sie den folgenden Befehl aus:
+
`yum install mokutil`


